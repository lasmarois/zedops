name = "zedops"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Static Assets (Frontend build output)
[assets]
directory = "../frontend/dist"
not_found_handling = "single-page-application"

# Durable Objects (WebSocket hub for agent connections)
[[durable_objects.bindings]]
name = "AGENT_CONNECTION"
class_name = "AgentConnection"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "zedops-db"
database_id = "0c225574-390c-4c51-ba42-8629c7b01f35"

# Secrets Management:
# - Local development: Copy .dev.vars.example to .dev.vars and set your values
# - Production: Use `wrangler secret put TOKEN_SECRET` and `wrangler secret put ADMIN_PASSWORD`
# - .dev.vars is gitignored (never commit secrets!)
#
# Required secrets:
# - TOKEN_SECRET: JWT signing secret (use a strong random string)
# - ADMIN_PASSWORD: Admin password for API access
