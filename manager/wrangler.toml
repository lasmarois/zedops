name = "zedops"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Static Assets (Frontend build output)
[assets]
directory = "../frontend/dist"
not_found_handling = "single-page-application"

# Durable Objects (WebSocket hub for agent connections)
[[durable_objects.bindings]]
name = "AGENT_CONNECTION"
class_name = "AgentConnection"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "zedops-db"
database_id = "" # Will be populated after creating database

# Environment Variables (for development)
[vars]
TOKEN_SECRET = "dev-secret-change-in-production"
ADMIN_PASSWORD = "admin"

# Production environment
[env.production]
vars = { }
# Set production secrets with: wrangler secret put TOKEN_SECRET
# Set production secrets with: wrangler secret put ADMIN_PASSWORD
